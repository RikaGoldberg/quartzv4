https://mirror.xyz/alkimiya-protocol.eth/PbTyQ3JnVtGq54fLjDr9toMLliWX_HMox9PQCFkZvsw

> _“He who controls the spice controls the universe.”_
> 
> _- Frank Herbert, Dune_

 [Saneel Sreeni](https://twitter.com/sanlsrni)

 [Leo Zhang](https://twitter.com/Leorzhang)

#### Introduction:

Commodities are basic raw materials that serve as the basis for the production of everyday goods and services. The history of commodities is a reflection of civilization itself. Humans waged wars against each other to seek control over the most important resources; from rice, to metals, to spices, to oil. As more aspects of the global economy and daily activities migrate to the cryptoeconomy, what will become the most sought-after commodity of the new era?

**Blockspace.**

All economic activities on public blockchains settle on blockspace. Consensus producers, such as miners and staking validators, supply blockspace, while every transaction demands blockspace. When on-chain activities increase, network fees increase, and when the value of the block subsidy and fees increase, more people are motivated to compete to append the next block to the blockchain.

Since blockspace is a commodity, it can be used as a basis for financial instruments — either to hedge against production or enhance returns. Such financialization ultimately leads to a comprehensive capital market, akin to the way all important commodities have evolved throughout history.

In this article, we will dive into the historical context of commodities markets, the importance of decentralized consensus in the digital universe, the economics of consensus production, and what a crypto-native capital market for consensus will look like.

#### Commodity Markets: A Historical Overview

As early as 4500 BC, denizens of ancient Sumer used clay tokens and tablets to denominate dates for future deliveries of goods and rules for settlement in what was essentially a futures contract. Nearly 3000 years later, one of Hammurabi’s codes outlined payment rules for farmers that had mortgaged their properties. Farmers had to pay off their debt using the grain they produced but reserved the right to not pay in the event of a crop failure. These basic rules helped producers manage their risk and in turn, allowed for more stable agricultural production.

These financial arrangements would continue to evolve and standardize. One of the first formal commodity exchanges was the Dojima Rice Exchange in 1697. Instead of actual rice, merchants would trade “rice tickets”- claims to rice in their warehouses. Using rice tickets as a basis, the merchants developed many derivative contracts that are now commonly traded today, such as short sales, forwards, and options. Over a century later, the Chicago Board of Trade would be set up and grow to become the global leader in grain and agricultural futures and options markets, where the volume of these financial contracts is much larger than the volume of the physical commodities.

**These developments showcase that financial abstractions in commodity markets let commodity producers and consumers better manage their risks, and therefore allow them to effectively scale their operations**

![Dojima Rice Exchange](https://mirror.xyz/_next/image?url=https%3A%2F%2Fimages.mirror-media.xyz%2Fpublication-images%2FbeZhEzxpFpFyslVUMZfuf.png&w=3840&q=75)

Dojima Rice Exchange

**As commodity markets matured and became more sophisticated, so did the types of financial instruments available to help manage related risks.** Today, they cover almost every commodity, from sugar to coffee to gold, and energy markets.

And because commodity production is affected by a wide range of physical attributes, **the stable consumption and production of commodities do not come naturally; Commodity production is always accompanied by robust commodity markets. Without these markets, the flow of commodities is prone to volatility.**

#### The Metaversal Epoch

![](https://mirror.xyz/_next/image?url=https%3A%2F%2Fimages.mirror-media.xyz%2Fpublication-images%2FnbCrgybYPHwoEgKJvq5ZT.png&w=3840&q=75)

As more aspects of daily activities transition to digital, the value of related resources, like data and compute, has skyrocketed. While the underlying technology of the digital era is still relatively nascent, thanks to Moore’s Law and the abstract nature of software development, its rate of acceleration is nothing short of astounding. For these reasons, phrases like _“data is the new oil”_ have become relatively common.

As Dijkstra commented in 1972, _“I do not know of any other technology covering a ratio of 10¹⁰ or more: the computer, by virtue of its fantastic speed, seems to be the first to provide us with an environment where highly hierarchical artifacts are both possible and necessary._” At this point, it ceases to be useful to think of the digital universe as a physical phenomenon. Software is instead what Abelson and Sussman call “procedural epistemology”. It has become an infinite medium for human expression.

This naturally makes people wonder — where does this path ultimately lead us to? Many works of science fiction have depicted various versions of the Metaverse, but all seem to settle on a baseline: a parallel digital reality to material reality, replete with its own worlds, economies, and digital assets. Matthew Ball describes it more specifically as “a **massively scaled** and **interoperable network of real-time rendered 3D virtual worlds** which can be **experienced synchronously** and **persistently** by an **effectively unlimited number of users** with an **individual sense of presence** and with **continuity of data**, such as identity, history, entitlements, objects, communications, and payments.” Ball further mentions that cryptonetworks will span and drive several categories critical to the realization of the Metaverse, mainly compute, interoperability tools and standards, and payments.

In reality, it’s tenable that given enough time and technological advancement, distributed networks backed by cryptoeconomic schemes will govern everything: how Metaverse data is stored, rendered, accessed. **It will also likely guide the development of Metaversal social structures; already we’ve seen how DeFi and crypto games have driven users to prefer user-owned protocols and sharing of concrete economic incentives for usage rather than rent extraction.**

As the paradigm shifts toward users owning a stake in the platforms they use, it becomes less and less tenable that they’re [willing to cede control](https://nakamotoinstitute.org/crypto-anarchist-manifesto/) of their digital selves to a few centralized authorities such as Facebook and Microsoft (and this is [already](https://www.technologyreview.com/2018/08/14/240325/how-social-media-took-us-from-tahrir-square-to-donald-trump/) [happening](https://www.washingtonpost.com/technology/2021/12/22/tech-trust-survey/)). **The Metaverse is likely an inevitability rather than a possibility, and will accordingly rely on cryptonetworks to realize not only mass adoption but sustainable and user-aligned growth. Accordingly, blockspace will become the central commodity of the Metaverse.**

#### Blockspace Commodities

We built massive markets at a global scale to ensure we have stable food and energy production to sustain the growth of our societies. So, what kind of market will emerge from blockspace, the foundational commodity of the Metaverse?

Fundamentally, blockspace is the representative unit of a shared layer of computation and state across multiple users; the blockchain exists as a record of changes and additions to this state and cryptonetworks serve as [markets for the production and usage of blockspace](https://www.aniccaresearch.tech/blog/ethereum-blockspace-who-gets-what-and-why).

**Users issuing transactions with fees attached signal their demand to purchase blockspace to change the network’s global state and node operators (miners, validators, etc.) participating in consensus provide security to the network by producing blockspace consisting of these state changes. While this sounds simple enough, the blockspace market dynamic is quite complex.**

**For one, blockspace has an implicit time value.** In _Ethereum Blockspace — Who Gets What a                       nd Why,_ we discussed why blockspace in the future is inherently less valuable than blockspace now. As a contrived example, a user trying to deposit currency in an on-chain money market would rather lock in current interest rates instead of some future interest rate that may or may not be lower. Similarly, a user trying to purchase an NFT would rather that the transaction goes through now before it gets snapped up by someone else.

Historically, this time value has been quantified by network fees and block producers have defaulted to including transactions based on those that included the highest fees. This also means that users are incentivized to pay larger fees for more urgent transactions, which can lead to phenomena like [Miner Extractable Value](https://ethereum.org/en/developers/docs/mev/).

![](https://mirror.xyz/_next/image?url=https%3A%2F%2Fimages.mirror-media.xyz%2Fpublication-images%2FMOMAqtwjEx_aOLXM5kV4o.png&w=3840&q=75)

Even solutions that attempt to add global clocks to the blockchain, such as Solana’s Proof-of-History which uses serial hashing to timestamp transactions entering the network, still have time-value implicit in their chains. Compared to the fee-based model, serial-based inclusion models are affected by latency more significantly; those who want their transactions included in record-time on clocked networks will optimize for favorable network topology and both physical and digital proximity to large node operators to ensure their transactions are prioritized. This is the same principle as the competition for proximity to exchanges in traditional high-frequency trading.

Similarly, for suppliers (consensus node operators), blockspace materialized now is more valuable than that in the future.

Consensus producers’ profit is calculated as the difference between consensus incentivization and node operation costs. The rewards node operators receive are liable to volatility: the spot price, transaction fees, and the probability of finding that block all factor into the uncertainty of rewards. Different networks have varying incentivization mechanisms to pay node operators, which adds further complexity.

The cost of running a node also wildly differs, as different networks often have drastically different requirements to participate as a validator. Proof-of-Work networks are driven by the mining hardware market, access to cheap and reliable electricity, and more. In comparison, the considerations in running a Proof-of-Stake ETH2.0 node instead rely on minimal electricity consumption and the capital required to stake.

**We can further break down the supply side into OpEx and CapEx costs.** For networks that require higher levels of computation at the base layer, CapEx tends to be high. Besides Bitcoin and Ethereum mining, other examples include Arweave and Filecoin, where validators earn rewards from expanding storage capacity and RAM for quick processing, Solana Proof-of-History nodes for high compute requirements due to the serial hashing involved, and any zero-knowledge network where GPUs and other processing units capable of fast linear operations can significantly speed up proof computations.

However, it’s important to note that the nodes for every network will incur some CapEx that is likely to eventually be recurring in nature, given factors such as state bloat. CapEx can tend to the higher side and is usually repaid over time.

As for OpEx, miners incur OpEx in the form of electricity and maintenance costs. Staking validators incur OpEx in the form of staking requirements and tokens. For other consensus algorithms, OpEx costs lie somewhere on the spectrum between being token-intensive and physical-resource intensive.

**Almost every consensus algorithm treats the right to block production as a probabilistic function weighted by the node operator’s share of validating power versus global validating power.** This means that for an operator to maintain a certain probability of block production, they accordingly need to up their stake of the network’s “validating power”. For example, an ATOM validator that has 1,000 ATOM staked against a total of 10,000 ATOM staked across the network would need to buy 500 more ATOM if other validators decided to suddenly stake 5,000 more ATOM to maintain a 10% probability of block production. The same is true for other popular PoS networks, like Terra, Avalanche, and Near. There might be slight differences in the actual mechanics (i.e. Avalanche’s cap on the total possible amount delegated to a node differs from other networks), but the fundamental principle never changes.

Such fluctuations cause additional volatility in validator rewards and can lead to unforeseen OpEx costs, and thus some network incentives favor an accelerated race to having a dominant share of the network stake (beyond the ability to majority attack networks) [such as in Solana’s distributive inflation system.](https://blockdaemon.com/docs/protocol-documentation/solana/how-solana-staking-works/)

![A rough breakdown of yearly costs of running a Solana node at minimum requirements.](https://mirror.xyz/_next/image?url=https%3A%2F%2Fimages.mirror-media.xyz%2Fpublication-images%2FObl5U8cdItHAz7wHoijy8.png&w=3840&q=75)

A rough breakdown of yearly costs of running a Solana node at minimum requirements.

**As the network utility scales, the healthy growth of node operators increases the security budget of the network, fortifying it against attacks that destabilize consensus. Ideally, the costs of running a node should be offset by the revenue from producing consensus. However, as we explained in [The Alchemy of Hashpower](https://www.aniccaresearch.tech/blog/the-alchemy-of-hashpower-part-i), consensus producers go through four archetypal market phases, and some of them can put the producers out of business.**

**The structural nature of blockspace production and consumption indicates a strong need for blockspace commodity markets to isolate the underlying risks. We will refer to these as _consensus capital markets_.**

#### Consensus Capital Markets

**Primitive forms of financial instruments for blockspace already exist today; hashrate indices, gas tokens, and staking derivatives are all variations of attempts at building consensus capital markets**. However, hashrate indices/futures and gas tokens failed to attain significant liquidity. These markets were often opaque and onerous to both the seller and buyer..

In other cases, the demand was never realized as difficulties in pricing assets like gas tokens made it confusing to liquidity provision on-chain and on centralized exchanges.

Staking derivatives have seen great success in freeing up stakers’ principle to participate in other activities, but don’t offer a complete solution to the needs of blockspace producers.

![ETH sent to the ETH 2.0 Staking Contract](https://mirror.xyz/_next/image?url=https%3A%2F%2Fimages.mirror-media.xyz%2Fpublication-images%2FW5p3qV5L-VGL4uAZrHmqt.png&w=3840&q=75)

ETH sent to the ETH 2.0 Staking Contract

In the absence of full hedging solutions, validators are exposed to risk from the network asset (due to their stake) and the volatility risk involved with blockspace demand (fees). **With staking derivatives, a validator on a PoS network would sell the token representation of their staked asset for whatever asset they’d like to denominate in (i.e. a PoS validator would sell their staked ETH for stablecoins) to hedge out risks associated with fees. The value of a staked asset is equal to the base network asset plus expectations of future network fee accrual.** Holding a staked asset represents exposure to the volatility of future validation cash flows. Selling the asset at market prices “locks in” a fixed price for these future cash flows (represented by the price differential in the staked asset and the underlying). This allows the seller to decouple their position from network consensus cash flows.

Since the validator is subject to trading with the market to conduct this hedge, they invoke substantial price exposure, as they’d need to buy the staked asset at market prices when they want exposure to network activity again or to unlock their stake. Given that staked assets usually trade with tight parity to the underlying, the validator is ultimately unable to fully hedge out their risk with staking derivatives due to delta exposure. Additional tools are required for cost-conscious validators looking to minimize risk without needing to be active traders, especially in volatile markets.

Ideally, when constructing hedges for blockspace production, it should satisfy both of the following properties:

1. **Isolate network activity risk (demand for blockspace quantified through network fees).**
2. **Isolate network asset price risk (a function of external markets).**

**These two requirements are satisfied in a swap-based arrangement.**

A high-level diagram of Alkimiya’s construction can be found below. It mirrors the energy swaps found in traditional commodity markets: a buyer pays a producer (in this case, miners/network validators) a fixed payment of stable coins that vests over the duration of the contract while the producer pays all rewards from validation according to a certain index (specific to the consensus algorithm) over the same time period.

![](https://mirror.xyz/_next/image?url=https%3A%2F%2Fimages.mirror-media.xyz%2Fpublication-images%2FCm1Zm2hbDFS62xtVrIAQg.png&w=3840&q=75)

During this period, the contract buyer gains exposure to latent blockspace demand in the form of network fees streamed plus block subsidies, while the validator isolates themselves from both network activity and asset price risk.

**We broadly categorize the index as a unit of validation power over a unit of indexed time.** The most commonly discussed index in the context of Proof-of-Work mining is hashes per second. For Ethereum 2.0 Proof-of-Stake this might look like ETH staked per epoch (the time period for which the selected validator can propose a block).

The index is particularly important for verifying that a validator is delivering its promised share of rewards. Our design lets validators list contracts promising any index up to their maximum available resources i.e. a miner on Ethereum with 10 Th/s at their disposal can list contracts promising rewards indexed anywhere up to 10 TH/s (so long as the sum of indices across all their contracts equals to this amount). As a worked example, if the same ETH miner sells 1 Th/s worth of rewards to a 15-day contract, and the global hashrate stayed around 1,000 Th/s over the same period, we’d expect the validator to deliver roughly 0.1% of the block rewards over that time period (before factoring in randomness, pool fees, contract transaction fees, etc.).

**You can read more about Alkimiya’s design [here](https://alkimiya.io/documentation/#oracle-and-liquidation-bot).**

The other vital component of these contracts is the fixed payment made for the contract. Fluctuations in any of its underlying factors (time, network asset price, global validation power, etc.) correspond to fluctuations in the value of blockspace production, and thus the fixed value of any swap contract paid at contract instantiation. Pricing these swap contracts is a more involved and intricate subject and thus we will explore pricing models in greater depth in future articles.

#### Further Applications

We’ve contextualized the demand for consensus capital markets through the lens of hedging the production costs of suppliers. However, a robust market does not exist without factoring in the needs of its buyers as well. While the demand for blockspace in its raw form is quite apparent, the demand for something like the swap-based construction above may appear less so. Yet, the usage of such swaps holds significant promises beyond simple speculation.

For one, swaps provide an interesting new primitive to factor into more complex DeFi constructions. With the success of platforms like Ribbon Finance and Friktion Labs, it’s clear there is strong demand for simple, intuitive financial products that enable end-users to gain automated perpetual exposure to a set of varied financial strategies like covered calls. Until now, none of these strategies or structured products have enabled users to gain exposure to the value of blockspace directly. As a specific example, the value of blockspace often gets bid up heavily during token airdrops, NFT mints, or days where the market is volatile and on-chain activity is high in general. Investing in blockspace via swap-integrated products allows buyers to take a directional bet on event-driven network congestion and profit off these expected events. Generally, with these swaps, structured products will be able to access blockspace-related yields previously inaccessible to all but node operators.

Another exciting application of such swaps is the opportunity for fee stabilization. In the case of several platforms and services integrated with cryptonetworks, such as Coinbase or similar exchanges, the end-user must often pay network fees on top of platform fees when using the said platform to interact with the blockchain. For many services, this can hurt the UX and make the platform untenable to use at times. Instead, if such services know approximately how much blockspace they take on average, they can buy swaps equivalent to this percentage in validation power for fixed prices.

The service still pays the network fees for associated transactions, but because they have active swap contracts that ultimately redirect these network fees to themselves for their fixed payment, they can then simply quote fixed fees to their end-users to cover the payments they made for the swaps. For example, if Coinbase knows that it consistently is taking an average of 1% of blockspace on Ethereum, it could buy swaps equivalent to 1% of the global hashrate. Coinbase still pays the gas fees associated with their transactions but expects that 1% of network rewards (which include these fees plus some margin with the block subsidy) will come back to it, which should cover the costs of buying 1% of blockspace. The end-user then only covers the cost of buying the swaps, which is fixed.

#### Conclusion

As the usage of cryptonetworks- and by extension demand for blockspace- only becomes more ubiquitous, the attractiveness of engaging in the incentive schemes for becoming a producer of blockspace via consensus will grow. This means that there will almost certainly need to be a healthy and robust market for hedging blockspace production, and accordingly consensus capital markets will become as ubiquitous as networks they’re built on.

By creating avenues for blockspace producers to more reliably secure their income and hedge the volatility inherent to blockspace production, consensus capital markets are poised to lower the barrier to entry as a network validator and, in the long run, help with the continued decentralization of these networks.

Every network has different economic considerations. What we have presented here is a general framework for consensus swaps; Alkimiya is working on developing these, as well as cash-flow generating products on top of them, across a wide variety of networks. We have also previously published our documentation and research on what consensus swaps look like for Proof-of-Work mining at Alkimiya. In future research and releases, we will dive into specific network constructions including but not limited to vanilla Proof-of-Stake (ETH 2.0, Cosmos), storage, ZK-validation, Solana, and more.

To stay updated on our findings, make sure to subscribe to Alkimiya’s research blog, [Anicca Research](https://www.aniccaresearch.tech/), follow our [Twitter](https://twitter.com/alkimiya_io), and join us on our community [Discord](https://discord.com/invite/ZFt7SNYCvn).

_Special thanks to [Emily](https://twitter.com/AutomataEmily?s=20), [Haseeb Qureshi](https://twitter.com/hosseeb), [MapleLeafCap](https://twitter.com/MapleLeafCap), [Jacob Phillips](https://twitter.com/JacobPPhillips), [Celia Wan](https://twitter.com/celiawan2), and the rest of the Alkimiya team for their invaluable comments and feedback._